(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{6099:function(e,s,r){Promise.resolve().then(r.bind(r,7407))},30:function(e,s,r){"use strict";r.d(s,{I8:function(){return o},db:function(){return c}}),r(7437);var t=r(994),i=r(3085),l=r(4086),n=r(9584);let a=(0,t.ZF)({apiKey:"AIzaSyB_XSAa2t8XHIM9TU4r944x7ivMS7zQNMo",authDomain:"sadma-9af54.firebaseapp.com",projectId:"sadma-9af54",storageBucket:"sadma-9af54.appspot.com",messagingSenderId:"403466487270",appId:"1:403466487270:web:e9198c802dbcae37030227",measurementId:"G-G6T7Z4XQPT"}),o=(0,i.v0)(a),c=(0,l.ad)(a);(0,n.cF)(a)},7407:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return N}});var t=r(7437),i=r(2265),l=r(3085),n=r(30);r(6691);var a=r(1396),o=r.n(a),c=r(171);r(6518);var d=r(2410),h=r(8920),u=r(5686),x=r(4606),g=r(9150),b=r(1697),p=r(8910),m=e=>{let{children:s}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"fixed flex flex-col justify-between w-20 h-screen p-4 bg-white ",children:(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("button",{onClick:()=>{n.I8.signOut(),c.Am.success("You signed out successfully",{position:"top-right",autoClose:9e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},children:(0,t.jsx)("div",{className:"inline-block p-3 text-white transition-all duration-300 bg-indigo-400 rounded-lg",children:(0,t.jsx)(d.CmG,{size:20})})}),(0,t.jsx)("span",{className:"border-b-[1px] border-gray-200 w-full p-2"}),(0,t.jsx)(o(),{href:"/home",children:(0,t.jsx)("div",{className:"inline-block p-3 my-4 text-black transition-all duration-300 bg-gray-100 rounded-lg cursor-pointer hover:text-white hover:bg-red-300 ",children:(0,t.jsx)(b.D9E,{size:20})})}),(0,t.jsx)(o(),{href:"/disaster-report",children:(0,t.jsx)("div",{className:"inline-block p-3 my-4 text-black transition-all duration-300 bg-gray-100 rounded-lg cursor-pointer hover:text-white hover:bg-red-300 ",children:(0,t.jsx)(u.vcH,{size:20})})}),(0,t.jsx)(o(),{href:"/disaster-alerts",children:(0,t.jsx)("div",{className:"inline-block p-3 my-4 text-black transition-all duration-300 bg-gray-100 rounded-lg cursor-pointer hover:bg-red-300 hover:text-white",children:(0,t.jsx)(x.fZN,{size:20})})}),(0,t.jsx)(o(),{href:"/location",children:(0,t.jsx)("div",{className:"inline-block p-3 my-4 text-black transition-all duration-300 bg-gray-100 rounded-lg cursor-pointer hover:bg-red-300 hover:text-white",children:(0,t.jsx)(g.JvX,{size:20})})}),(0,t.jsx)(o(),{href:"/users",children:(0,t.jsx)("div",{className:"inline-block p-3 my-4 text-black transition-all duration-300 bg-gray-100 rounded-lg cursor-pointer hover:bg-red-300]  hover:text-white",children:(0,t.jsx)(x.w7k,{size:20})})}),(0,t.jsx)(o(),{href:"/assets",children:(0,t.jsx)("div",{className:"inline-block p-3 my-4 text-black transition-all duration-300 bg-gray-100 rounded-lg cursor-pointer hover:text-white hover:bg-red-300 ",children:(0,t.jsx)(p.oKq,{size:20})})}),(0,t.jsx)(o(),{href:"/vendors",children:(0,t.jsx)("div",{className:"inline-block p-3 my-4 text-black transition-all duration-300 bg-gray-100 rounded-lg cursor-pointer hover:bg-red-300 hover:text-white",children:(0,t.jsx)(x.hiN,{size:20})})}),(0,t.jsx)(o(),{href:"/vendors",children:(0,t.jsx)("div",{className:"inline-block p-3 my-4 text-black transition-all duration-300 bg-gray-100 rounded-lg cursor-pointer hover:bg-red-300 hover:text-white",children:(0,t.jsx)(h.nbt,{size:20})})})]})}),(0,t.jsx)("main",{className:"w-full ml-20 ",children:s})]}),(0,t.jsx)(c.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},j=()=>{let[e,s]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=(0,l.Aj)(n.I8,e=>{e?s(e):s(null)});return()=>e()},[]);let r=null==e?void 0:e.email;return(0,t.jsx)(m,{children:(0,t.jsxs)("div",{className:"flex justify-between px-4 pt-4",children:[(0,t.jsx)("h2",{children:"South African Disaster Management"}),r?(0,t.jsxs)("h2",{children:["Welcome back ",r]}):(0,t.jsx)("div",{children:(0,t.jsx)("h1",{children:"You are not welcome"})})]})})},f=r(4086),v=()=>{let[e,s]=(0,i.useState)(0),[r,l]=(0,i.useState)(0),[a,o]=(0,i.useState)(0),[c,d]=(0,i.useState)(0),[h,u]=(0,i.useState)(0),[x,g]=(0,i.useState)(0);(0,i.useEffect)(()=>{let e=async()=>{let e=(0,f.hJ)(n.db,"disasterReports");(0,f.hJ)(n.db,"Vendors"),(0,f.hJ)(n.db,"Company_Groups");let r=(0,f.cf)(e,e=>{let r=e.size;s(r),b("disasterReports",r)});return()=>{r(),unsubscribeVendors(),unsubscribeCompanyGroups()}};e()},[]);let b=(e,s)=>{let r=s/100*100;switch(e){case"disasterReports":d(r);break;case"Vendors":u(r);break;case"CompanyGroups":g(r)}};return(0,t.jsx)("div",{className:"grid gap-4 p-4 ml-20 lg:grid-cols-5 ",children:(0,t.jsxs)("div",{className:"flex justify-between w-full col-span-1 p-4 bg-white rounded-lg lg:col-span-2",children:[(0,t.jsxs)("div",{className:"flex flex-col w-0 pb-4 ",children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:e}),(0,t.jsx)("p",{className:"text-gray-600",children:"Disasters Reported"})]}),(0,t.jsx)("p",{className:"flex items-center justify-center p-2 rounded-lg bg-lightGreen",children:(0,t.jsxs)("span",{className:"text-lg text-black",children:[c.toFixed(2),"%"]})})]})})},k=r(6704);k.kL.register(k.ZL,k.uw,k.De,k.f$,k.Dx,k.u);var y=()=>(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100 ",children:[(0,t.jsx)(j,{}),(0,t.jsx)(v,{})]})}),N=()=>(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"text-xl",children:(0,t.jsx)(y,{})})})}},function(e){e.O(0,[358,214,674,582,33,400,682,447,712,234,584,217,792,971,596,744],function(){return e(e.s=6099)}),_N_E=e.O()}]);